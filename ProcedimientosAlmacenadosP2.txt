
--procedimiento para insertar datos en tabla tipo Usuarios
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE spInsertarTipoUsuarios
	@tipoUsuarios VARCHAR (25),
	@registrado bit output,
	@mensaje varchar(80) output
	)
AS
BEGIN
if(not exists(select * from TipoUsuarios where nombre=@nombre))
	begin
	INSERT INTO TipoUsuarios(nombre)
		VALUES (@nombre);
		SET @registrado=1
		SET @mensaje= 'Tipo de Usuario Ingresado con Exito'
END
ELSE
BEGIN 
		set @Registrado=0
		set @mensaje='Ya existe un Tipo de Usuario con este nombre'
END
END

--procedimiento para insertar datos en tabla Usuarios
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE spInsertarUsuarios
	@nombre VARCHAR (20),
	@apellidoP VARCHAR (20),
	@apellidoM VARCHAR (20),
	@correoE VARCHAR (320),
	@contrasena VARCHAR (100),
	@idTipoUsuario int,
	@registrado bit output,
	@mensaje varchar(80) output
	)
AS
BEGIN
if(not exists(select * from Usuarios where correoE=@correoE ))
	begin
	INSERT INTO Usuarios(nombre, apellidoP,apellidoM,correoE,contrasena,idTipoUsuario)
		VALUES (@nombre,@apellidoP,@apellidoM,@correoE,@contrasena,@idTipoUsuario);
		SET @registrado=1
		SET @mensaje= 'Usuario Ingresado con Exito'
END
ELSE
BEGIN 
		set @Registrado=0
		set @mensaje='Ya existe un Usuario registrado con este correo'
END
END

--procedimiento para insertar datos en tabla Ligas
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE spInsertarLigas
	@nombre VARCHAR (20),
	@descripcion VARCHAR (200),
	@correoE VARCHAR (320),
	@telefono VARCHAR (10),
	@registrado bit output,
	@mensaje varchar(80) output
	)
AS
BEGIN
if(not exists(select * from Ligas where nombre=@nombre ))
	begin
	INSERT INTO Ligas(nombre, descripcion,correoE,telefono)
		VALUES (@nombre,@descripcion,@correoE,@telefono);
		SET @registrado=1
		SET @mensaje= 'Liga Ingresada con Exito'
END
ELSE
BEGIN 
		set @Registrado=0
		set @mensaje='Ya existe una Liga registrada con este nombre'
END
END

--procedimiento para insertar datos en tabla Campeonatos
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE spInsertarCampeonatos
	@nombre VARCHAR (20),
	@fechaInicio date,
	@fechaCierre date,
	@numeroEquiposP int, 
	@activo binary,
	idLiga int,
	@registrado bit output,
	@mensaje varchar(80) output
	)
AS
BEGIN
if(not exists(select * from Compeonatos where nombre=@nombre ))
	begin
	INSERT INTO Compeonatos(nombre, fechaInicio,fechaCierre,numeroEquiposP,activo, idLiga)
		VALUES (@nombre,@fechaInicio,@fechaCierre,@numeroEquiposP,@activo,@idLiga);
		SET @registrado=1
		SET @mensaje= 'Campeonato Ingresado con Exito'
END
ELSE
BEGIN 
		set @Registrado=0
		set @mensaje='Ya existe un campeonato registrado con este nombre'
END
END

--procedimiento para insertar datos en tabla TipoSanciones
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE spInsertarTipoSanciones
	@nombre VARCHAR (25),
	@descripcion VARCHAR(100),
	@tiempo int,
	@valor int,
	@estado binary,
	@idLiga int,
	@registrado bit output,
	@mensaje varchar(80) output
	)
AS
BEGIN
if(not exists(select * from TipoSanciones where nombre=@nombre ))
	begin
	INSERT INTO TipoSanciones(nombre,descripcion,tiempo, valor, estado, idLiga)
		VALUES (@nombre,@descripcion,@tiempo, @valor, @estado, @idLiga);
		SET @registrado=1
		SET @mensaje= 'Tipo de Sancion Ingresada con Exito'
END
ELSE
BEGIN 
		set @Registrado=0
		set @mensaje='Ya existe tipo de sancion con este nombre'
END
END

--procedimiento para insertar datos en tabla Equipos
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE spInsertarEquipos
	@nombre VARCHAR (20),
	@logo varbinary,
	@correoE varchar(320),
	@lugar varchar(20),
	@capitan varchar(100),
	@fechaFundacion date,
	@descripcion varchar (200),
	@numIdentificacion varchar(12),
	@idCampeonato int,
	@registrado bit output,
	@mensaje varchar(80) output
	)
AS
BEGIN
if(not exists(select * from Equipos where numIdentificacion=@numIdentificacion ))
	begin
	INSERT INTO Equipos(nombre,logo,correoE, lugar, capitan, fechaFundacion, descripcion,numIdentificacion)
		VALUES (@nombre,@logo,@correoE, @lugar, @capitan, @fechaFundacion, @descripcion,@numIdentificacion);
		SET @registrado=1
		SET @mensaje= 'Tipo de Sancion Ingresada con Exito'
END
ELSE
BEGIN 
		set @Registrado=0
		set @mensaje='Ya existe tipo de sancion con este nombre'
END
END

